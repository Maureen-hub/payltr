cat << 'EOF' > .husky/pre-commit
#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Block commits on main
BRANCH="$(git rev-parse --abbrev-ref HEAD)"
if [ "$BRANCH" = "main" ]; then
  echo "Commits to main are blocked. Please use a feature branch."
  exit 1
fi

# Run lint on all staged files
echo "Running pre-commit lint..."
npm run lint
EOF
